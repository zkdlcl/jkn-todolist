# JKN-TODOLIST 제품 요구사항 명세서 (PRD)

## 문서 정보

**문서 버전**: 1.1
**작성일**: 2025-11-27
**상태**: 최종 (Final)
**관련 문서**: [도메인 정의서](./1-domain-definition.md), [실행 계획](./7-implementation_plan.md), [사용자 시나리오](./3-user-scenarios.md)

---

## 1. 제품 개요

### 1.1 제품명

**JKN-TODOLIST** - 개인 할일과 공통 일정을 통합 관리하는 스마트 할일 관리 애플리케이션

### 1.2 제품 비전

사용자가 개인 할일과 국경일 등 공통 일정을 한 곳에서 효율적으로 관리하여 생산성을 극대화하고, 중요한 일정을 놓치지 않도록 돕는다.

### 1.3 제품 목표

- 직관적이고 사용하기 쉬운 할일 관리 도구 제공
- 개인 할일과 공통 일정의 통합 뷰 제공
- 실수로 삭제한 할일 복구 가능
- 안전하고 신뢰할 수 있는 사용자 인증

### 1.4 핵심 가치 제안

1. **통합 관리**: 개인 할일 + 공통 일정(국경일 등)을 한 화면에서 관리
2. **안전한 데이터**: 삭제된 할일을 휴지통에서 복구 가능
3. **간편한 접근**: 웹 기반으로 어디서나 접근 가능
4. **우선순위 관리**: 할일의 중요도에 따라 우선순위 설정

---

## 2. 문제 정의 및 해결 방안

### 2.1 해결하려는 문제

**Problem 1: 할일과 공통 일정의 분산 관리**

- 현황: 사용자들이 개인 할일 앱과 별도로 달력을 확인하여 국경일 확인
- 문제: 정보가 분산되어 통합적인 일정 관리 어려움
- 해결: 개인 할일과 공통 일정을 단일 인터페이스에서 통합 제공

**Problem 2: 실수로 인한 데이터 손실**

- 현황: 할일 삭제 시 즉시 영구 삭제되어 복구 불가
- 문제: 사용자가 실수로 삭제한 할일을 되돌릴 수 없음
- 해결: 휴지통 기능으로 삭제된 할일 복구 가능

**Problem 3: 복잡한 사용자 인터페이스**

- 현황: 기존 할일 관리 도구들의 과도하게 복잡한 기능
- 문제: 사용자가 필수 기능을 찾기 어렵고 학습 곡선이 높음
- 해결: 핵심 기능에 집중한 직관적인 UI/UX 제공

### 2.2 타겟 시장

- **주 타겟**: 개인 업무와 일정을 체계적으로 관리하고 싶은 직장인 및 학생
- **부 타겟**: 팀 프로젝트를 관리하는 소규모 팀 리더 (향후 확장)

---

## 3. 타겟 사용자

### 3.1 주요 페르소나

#### 페르소나 1: 직장인 김효율 (28세, IT 기업 사원)

**배경**:

- 회사 업무와 개인 할일을 관리해야 함
- 월요일과 공휴일에 대한 정보가 필요

**니즈**:

- 업무 할일과 개인 할일 구분
- 우선순위에 따른 할일 정렬
- 다음 주 월요일과 공휴일 미리 확인

**페인 포인트**:

- 여러 앱을 오가며 일정 확인하는 번거로움
- 할일 앱에서 공휴일 정보를 별도로 확인해야 함
- 삭제한 할일을 복구할 수 없어 불안함

---

#### 페르소나 2: 대학생 이계획 (22세, 대학교 3학년)

**배경**:

- 과제, 시험, 팀플 일정을 관리
- 학교 공식 일정(개강일, 시험 기간 등)도 함께 관리 필요
- 모바일과 PC에서 모두 사용

**니즈**:

- 간단하고 빠르게 할일 추가
- 과제 마감일 기준으로 정렬
- 완료한 할일 확인하며 성취감

**페인 포인트**:

- 복잡한 도구는 사용하기 어려움
- 마감일을 놓치는 경우가 많음
- 할일 관리가 귀찮아서 포기하게 됨

---

#### 페르소나 3: 관리자 박운영 (35세, 시스템 관리자)

**배경**:

- 조직의 JKN-TODOLIST 시스템 관리
- 공통 일정(국경일, 공휴일) 등록 및 관리
- 사용자 계정 관리 권한 필요 (향후)

**니즈**:

- 공통 일정을 쉽게 등록하고 수정
- 매년 반복되는 일정 자동 처리 (향후)
- 시스템 안정성 및 보안

**페인 포인트**:

- 관리 기능이 복잡하면 운영 어려움
- 공통 일정 등록이 번거로움

---

## 4. 제품 목표 및 성공 지표

### 4.1 제품 목표

**단기 목표 (3개월)**:

1. MVP 출시 및 초기 사용자 30명 확보
2. 핵심 기능 안정화 (할일 CRUD, 휴지통, 인증)
3. 사용자 피드백 수집 및 개선점 파악

**중기 목표 (6개월)**:

1. 사용자 100명 이상 확보
2. DAU 40% 달성
3. Phase 2 기능 개발 착수 (알림, 태그, 검색)

**장기 목표 (1년)**:

1. 사용자 500명 이상 확보
2. 모바일 앱 출시
3. 팀 협업 기능 추가

### 4.2 핵심 성공 지표 (KPI)

| 지표                   | 목표            | 측정 방법                               | 우선순위 |
| ---------------------- | --------------- | --------------------------------------- | -------- |
| 사용자 등록 수         | 30명 (3개월)    | 회원가입 수 추적                        | High     |
| DAU (일일 활성 사용자) | 40%             | 일일 로그인 사용자 / 전체 사용자        | High     |
| 할일 생성률            | 사용자당 주 3개 | 주간 생성된 할일 수 / 활성 사용자       | Medium   |
| 완료율                 | 60% (7일 내)    | 7일 내 완료된 할일 / 7일 내 생성된 할일 | Medium   |
| 휴지통 복구율          | 15%             | 복구된 할일 / 삭제된 할일               | Low      |
| 시스템 가용성          | 99%             | 가동 시간 / 전체 시간                   | High     |
| NPS (순추천지수)       | 40+             | 사용자 설문 조사                        | Medium   |

---

## 5. 주요 기능 (Features)

### 5.1 MVP 필수 기능

#### Feature 1: 사용자 인증 및 계정 관리

**우선순위**: P0 (필수)
**담당**: 백엔드 개발자

**기능 설명**:

- 이메일과 비밀번호로 회원가입
- JWT 기반 로그인 (Access Token 15분, Refresh Token 7일)
- 로그아웃
- 비밀번호 암호화 저장 (bcrypt)

**필수 조건**:

- [x] 유효한 이메일 형식 검증
- [x] 비밀번호 정책 준수 (최소 8자, 대소문자+숫자+특수문자)
- [x] 중복 이메일 가입 차단
- [x] JWT 토큰 발급 및 검증
- [x] 로그아웃 시 Refresh Token 무효화

---

#### Feature 2: 할일 관리 (CRUD)

**우선순위**: P0 (필수)
**담당**: 풀스택 개발자

**기능 설명**:

- 할일 생성: 제목, 내용, 시작/만료 일시, 우선순위 입력
- 할일 목록 조회: 본인 할일만 조회, 필터링/정렬 지원
- 할일 상세 조회: 개별 할일 상세 정보 확인
- 할일 수정: 모든 속성 수정 가능
- 할일 완료/취소: 완료 상태 토글
- 할일 삭제: 소프트 삭제 (휴지통 이동)

**인수 조건**:

- [x] 제목 필수 입력 (1~200자)
- [x] 만료 일시는 시작 일시보다 이후
- [x] 우선순위 선택 (LOW, MEDIUM, HIGH)
- [x] 소유자만 자신의 할일 수정/삭제 가능
- [x] 완료 시 완료 일시 자동 기록
- [x] 삭제 시 deleted_status='DELETED'로 변경

---

#### Feature 3: 휴지통 관리

**우선순위**: P0 (필수)
**담당**: 풀스택 개발자

**기능 설명**:

- 휴지통 조회: 삭제된 할일 목록 확인
- 할일 복구: 휴지통에서 활성 상태로 복원
- 영구 삭제: 데이터베이스에서 완전히 제거

**인수 조건**:

- [x] 소유자만 자신의 휴지통 조회
- [x] 복구 시 원본 속성 유지
- [x] 영구 삭제 시 확인 메시지 표시
- [x] 영구 삭제 후 복구 불가

---

#### Feature 4: 달력 기능 (캘린더 뷰)

**우선순위**: P0 (필수)
**담당**: 풀스택 개발자

**기능 설명**:

- 월간, 주간, 일간 보기 제공
- 할일을 날짜별로 시각적으로 표시
- 공통 일정(공휴일 등)을 함께 표시
- 날짜별 할일 목록 표시
- 할일/공휴일 이벤트 타입별 색상 구분

**인수 조건**:

- [x] 월간 달력으로 할일 표시
- [x] 주간/일간 보기 기능 제공
- [x] 할일/공휴일 시각적 구분
- [x] 이벤트 타입별 색상 구분 (공휴일/기념일/24절기/잡절)
- [x] 툴팁으로 상세 정보 표시
- [x] 날짜 클릭으로 해당 일의 할일 확인

---

#### Feature 5: 알림 시스템

**우선순위**: P1 (중요)
**담당**: 프론트엔드 개발자

**기능 설명**:

- 브라우저 기본 alert 대신 사용자 정의 알림 시스템
- 다양한 알림 타입 지원 (성공, 오류, 정보, 경고)
- 일관된 디자인과 애니메이션 적용
- 자동 사라짐/수동 닫기 기능

**인수 조건**:

- [x] SweetAlert2 기반 알림 시스템
- [x] 다양한 알림 타입 제공
- [x] 모든 alert() 호출 대체
- [x] 다크모드 지원
- [x] 공휴일 동기화 안내 알림 제공

---

#### Feature 6: 공공데이터포털 API 연동

**우선순위**: P1 (중요)
**담당**: 백엔드 개발자

**기능 설명**:

- KASI(한국천문연구원) 특일 정보 API 연동
- 공휴일, 24절기, 잡절 정보 자동 동기화
- CLI 스크립트 기반 수동 동기화

**인수 조건**:

- [x] KASI API 인증 및 호출
- [x] 공휴일 정보 동기화
- [x] 24절기/잡절 정보 동기화
- [x] 동기화 스크립트 구현
- [x] 데이터베이스에 저장

---

#### Feature 7: 위치 확인 (Location Tracking)

**우선순위**: P2 (확장 기능)
**담당**: 풀스택 개발자

**기능 설명**:

- PC에서 QR 코드 생성 및 표시
- 모바일에서 QR 코드 스캔 후 위치 권한 허용
- 실시간으로 모바일 위치를 PC 화면의 지도에 표시
- Kakao Map API를 이용한 지도 표시
- WebSocket을 통한 실시간 위치 데이터 전송

**인수 조건**:

- [ ] PC에서 고유 세션 ID 생성 및 QR 코드 표시
- [ ] 모바일에서 QR 코드 스캔 시 세션 연결
- [ ] Geolocation API로 위치 권한 요청
- [ ] 실시간 위치 정보를 WebSocket으로 전송
- [ ] PC 화면의 Kakao Map에 마커로 위치 표시
- [ ] 위치 정보는 저장하지 않고 실시간 전송만 수행
- [ ] 세션은 1시간 후 자동 만료

**기술 스택**:

- Frontend: qrcode.react, Kakao Map API, Socket.io-client
- Backend: Socket.io, In-memory session management

---

## 6. 사용자 시나리오

### 6.1 시나리오 1: 첫 사용자의 회원가입 및 할일 추가

**배경**: 김효율 씨가 JKN-TODOLIST를 처음 사용하려고 합니다.

**단계**:

1. 브라우저에서 JKN-TODOLIST 사이트 접속
2. "회원가입" 버튼 클릭
3. 이메일(hyojul@example.com), 비밀번호(Test@1234), 이름(김효율) 입력
4. "가입하기" 버튼 클릭
5. 자동으로 로그인되어 할일 목록 페이지로 이동
6. "새 할일 추가" 버튼 클릭
7. 제목: "프로젝트 기획서 작성", 만료 일시: 내일, 우선순위: HIGH 입력
8. "저장" 버튼 클릭
9. 할일 목록에 새 할일이 표시됨

**기대 결과**:

- 회원가입 성공 및 자동 로그인
- 첫 할일이 목록에 추가됨
- 공통 일정(이번 주 공휴일)도 함께 표시됨

---

### 6.2 시나리오 2: 할일 완료 및 휴지통 사용

**배경**: 김효율 씨가 할일을 완료하고, 실수로 삭제한 할일을 복구하려고 합니다.

**단계**:

1. 할일 목록에서 "프로젝트 기획서 작성" 체크박스 클릭
2. 할일이 완료 상태로 변경되고, 취소선 표시
3. 불필요한 할일 "테스트 할일"의 삭제 아이콘 클릭
4. 할일이 목록에서 사라짐
5. 실수로 삭제했다는 것을 깨닫고 "휴지통" 메뉴 클릭
6. 삭제된 할일 "테스트 할일" 확인
7. "복구" 버튼 클릭
8. 할일 목록으로 돌아가서 복구된 할일 확인

**기대 결과**:

- 완료된 할일이 시각적으로 구분됨
- 삭제된 할일이 휴지통에 보관됨
- 복구 후 할일이 원래 상태로 복원됨

---

### 6.3 시나리오 3: 관리자의 공통 일정 등록

**배경**: 관리자 박운영 씨가 새해 공휴일을 등록하려고 합니다.

**단계**:

1. 관리자 계정으로 로그인
2. "관리자 메뉴" > "공통 일정 관리" 클릭
3. "새 공통 일정 추가" 버튼 클릭
4. 일정명: "설날", 날짜: 2026-01-29, 유형: 국경일, 반복: 매년 입력
5. "저장" 버튼 클릭
6. 공통 일정 목록에 "설날" 추가됨
7. 일반 사용자 계정으로 로그인하여 확인
8. 할일 목록에 "설날" 공통 일정이 표시됨

**기대 결과**:

- 관리자만 공통 일정 생성 가능
- 모든 사용자가 공통 일정 조회 가능
- 공통 일정이 시각적으로 구분되어 표시

---

## 7. UI/UX 요구사항

### 7.1 디자인 원칙

1. **단순함 (Simplicity)**: 핵심 기능에 집중하고 불필요한 요소 제거
2. **직관성 (Intuitiveness)**: 별도 학습 없이 사용 가능한 인터페이스
3. **일관성 (Consistency)**: 전체 페이지에서 동일한 디자인 패턴 유지
4. **접근성 (Accessibility)**: 키보드 네비게이션, 스크린 리더 지원

### 7.2 주요 화면 구성

#### 7.2.1 로그인/회원가입 페이지

- 중앙 정렬된 폼
- 이메일/비밀번호 입력 필드
- "로그인" / "회원가입" 버튼
- 에러 메시지 명확하게 표시

#### 7.2.2 할일 목록 페이지 (메인 화면)

- 상단: 헤더 (로고, 사용자명, 로그아웃 버튼)
- 좌측 사이드바: 메뉴 (할일 목록, 휴지통, 설정)
- 메인 영역:
  - "새 할일 추가" 버튼 (상단)
  - 필터/정렬 옵션
  - 할일 목록 (카드 형태)
    - 체크박스 (완료 여부)
    - 제목 (클릭 시 상세)
    - 만료 일시 (강조)
    - 우선순위 배지
    - 수정/삭제 아이콘
  - 공통 일정 (구분된 배지)

#### 7.2.3 할일 추가/수정 모달

- 중앙 팝업 모달
- 입력 필드:
  - 제목 (필수)
  - 내용 (선택)
  - 시작 일시
  - 만료 일시
  - 우선순위 선택
- "저장" / "취소" 버튼

#### 7.2.4 휴지통 페이지

- 삭제된 할일 목록
- 각 항목마다 "복구" / "영구 삭제" 버튼
- 일괄 비우기 버튼

#### 7.2.5 관리자 페이지 (ROLE_ADMIN만)

- 공통 일정 목록
- "새 공통 일정 추가" 버튼
- 수정/삭제 기능

#### 7.2.6 달력 페이지

- 월간/주간/일간 보기 탭
- 달력 뷰 (react-big-calendar 기반)
- 날짜별 할일 목록 사이드바
- 할일/공휴일 이벤트 타입별 색상 구분
- 공휴일 동기화 버튼

#### 7.2.7 위치 확인 페이지

- 상단: 페이지 제목 및 설명
- 좌측: QR 코드 표시 영역
  - 세션 ID 표시
  - QR 코드 (모바일 접속 URL 포함)
  - 연결 상태 표시
- 우측: Kakao Map
  - 현재 위치 마커 표시
  - 지도 줌/패닝 컨트롤
  - 마지막 업데이트 시간 표시

#### 7.2.8 모바일 위치 전송 페이지

- 중앙 정렬된 카드
- 위치 권한 요청 버튼
- 연결 상태 표시 (연결 중, 전송 중, 연결 끊김)
- 현재 전송 중인 위치 정보 (위도, 경도, 정확도)
- 연결 종료 버튼

### 7.3 반응형 디자인

- **Desktop (1024px+)**: 사이드바 + 메인 영역 2단 레이아웃
- **Tablet (768px~1023px)**: 미지원
- **Mobile (~767px)**: 햄버거 메뉴 + 전체 화면 메인 영역

### 7.4 색상 팔레트 (예시)

- **Primary**: #3B82F6 (파랑) - 버튼, 링크
- **Success**: #10B981 (초록) - 완료 상태
- **Warning**: #F59E0B (주황) - 만료 임박
- **Danger**: #EF4444 (빨강) - 삭제, 에러
- **Gray**: #6B7280 (회색) - 텍스트, 보더
- **Background**: #F9FAFB (연한 회색) - 배경
- **Calendar Holiday**: #EF4444 (빨강) - 공휴일 이벤트
- **Calendar Memorial**: #8B5CF6 (보라) - 기념일 이벤트
- **Calendar Solar Term**: #06B6D4 (청록) - 24절기 이벤트
- **Calendar Seasonal Day**: #10B981 (초록) - 잡절 이벤트

### 7.5 타이포그래피

- **폰트**: 시스템 기본 폰트 또는 Pretendard, Spoqa Han Sans
- **크기**:
  - H1: 24px (페이지 제목)
  - H2: 20px (섹션 제목)
  - Body: 14px (본문)
  - Small: 12px (보조 텍스트)

### 7.6 기타

- 다크모드 지원
- 화면 설계용 이미지를 향후 디자인 스타일 가이드 작성 시 프롬프트로 이미지 제공

### 7.7 알림 시스템

- 사용자에게 중요한 정보를 표시하기 위해 브라우저 기본 alert 대신 사용자 정의 알림 시스템 사용
- 알림은 다양한 유형으로 제공됨 (성공, 오류, 정보, 경고)
- 알림은 우측 상단에 표시되며 자동으로 사라짐 (설정 가능)
- 일관된 디자인과 애니메이션 제공
- 사용자에게 방해가 되지 않도록 비동기적으로 표시

---

## 8. 기술 요구사항

### 8.1 기술 스택

**Backend**:

- 언어/프레임워크: Node.js + Express.js
- 데이터베이스: PostgreSQL 15+(개발환경에서는 로컬 PostgreSQL을 설치하여 사용) / 호스팅은 Supabase
- 캐싱기능 미사용
- 인증: JWT (jsonwebtoken)
- RESTful API 기반 개발
- bcrypt 비밀번호 해싱

**Frontend**:

- 프레임워크: React 18
- 상태 관리: Zustand
- UI 라이브러리: Tailwind CSS
- 알림 시스템: SweetAlert2
- HTTP Client: Axios
- 라우팅: react-router-dom
- 폼 관리: react-hook-form
- 달력 뷰: react-big-calendar

**DevOps**:

- 버전 관리: Git + GitHub
- CI/CD: GitHub Actions (옵션 - 우선 고려하지않음. 향후 확장 시)
- 배포: Vercel (Frontend), Vercel (Backend), Supabase의 PostgreSQL(DB) Serverless Functions

**개발도구**

- vsc

### 8.2 API 설계 원칙

- RESTful API 준수
- JSON 형식 요청/응답
- HTTP 상태 코드 표준 사용
- API 문서 자동 생성 (Swagger/OpenAPI)

### 8.3 보안 요구사항

- HTTPS 필수 (프로덕션)
- CORS 설정
- SQL Injection 방지
- XSS 방지
- CSRF 토큰 (필요 시)
- Rate Limiting (API 호출 제한)

### 8.4 성능 요구사항

- API 응답 시간 P95 < 500ms
- 페이지 로딩 시간 < 2초
- 동시 사용자 100명 지원

### 8.5 호환성

- **브라우저**: Chrome, Edge (최신 2개 버전)
- **디바이스**: Desktop, Mobile

---

## 9. 비기능적 요구사항

### 9.1 사용성 (Usability)

- 신규 사용자가 5분 내에 첫 할일 추가 가능
- 주요 기능이 3클릭 이내에 접근 가능
- 직관적인 UI로 별도 매뉴얼 불필요

### 9.2 신뢰성 (Reliability)

- 시스템 가용성 99% 이상
- 데이터 백업 일 1회
- 에러 발생 시 로깅 및 추적

### 9.3 유지보수성 (Maintainability)

- 코드 커버리지 70% 이상아니어도 됨. MVP 개발
- 린트 규칙 준수
- 명확한 주석 및 문서화

## 10. 출시 계획

### 10.1 개발 일정 (실제)

| 단계                | 기간 | 주요 활동                                               | 산출물                  |
| ------------------- | ---- | ------------------------------------------------------- | ----------------------- |
| **Phase 0: 기획**   | day1 | - 도메인 정의서 작성<br>- PRD 작성<br>- 와이어프레임    | 도메인 정의서, PRD      |
| **Phase 1: 설계**   | day1 | - ERD 설계<br>- API 설계<br>- UI/UX 디자인              | ERD, API 명세서, 디자인 |
| **Phase 2: 개발**   | day2 | - 백엔드 API 개발<br>- 프론트엔드 개발<br>- 통합 테스트 | 소스 코드, 테스트 코드  |
| **Phase 3: 테스트** | day1 | - QA 테스트<br>- 버그 수정<br>- 성능 테스트             | 테스트 리포트           |
| **Phase 4: 배포**   | day1 | - 프로덕션 배포<br>- 모니터링 설정<br>- 사용자 온보딩   | 배포된 서비스           |
| **Phase 5: 운영**   | 지속 | - 사용자 피드백 수집<br>- 버그 수정<br>- 개선 작업      | 업데이트                |

**총 예상 기간**: 2주 (MVP 완료)

### 10.2 마일스톤

| 마일스톤                 | 목표일 | 완료 조건                            |
| ------------------------ | ------ | ------------------------------------ |
| M1: 기획 완료            | day 1  | 도메인 정의서, PRD 승인              |
| M2: 설계 완료            | day 1  | ERD, API 명세서, 디자인 승인         |
| M3: 백엔드 개발 완료     | day 2  | 모든 API 엔드포인트 구현 및 테스트   |
| M4: 프론트엔드 개발 완료 | day 2  | 모든 화면 구현 및 통합               |
| M5: 달력 기능 완료       | day 2  | 달력 뷰, 이벤트 표시, 툴팁 기능 구현 |
| M6: 알림 시스템 완료     | day 2  | SweetAlert2 통합, 모든 alert 대체    |
| M7: KASI API 연동 완료   | day 2  | 공휴일 API 연동 및 동기화 구현       |
| M8: MVP 출시             | day 2  | 프로덕션 배포 및 초기 사용자 온보딩  |

### 10.3 출시 기준

---

## 부록

### A. 용어 정의

[도메인 정의서 7. 비즈니스 용어 정의 참조](./1-domain-definition.md#7-비즈니스-용어-정의)

### B. 참조 문서

- **[1. 도메인 정의서](./1-domain-definition.md)**: 비즈니스 용어 및 도메인 규칙 정의
- **[2. 프로젝트 구조 설계 원칙](./4-project-structure-principles.md)**: 디렉토리 구조, 코딩 컨벤션, 설계 원칙 (React/Node.js)
- **[3. 데이터베이스 설계](./5-database-design.md)**: ERD 및 테이블 스키마 상세
- **[4. 기술 아키텍처](./6-technical-architecture.md)**: 시스템 아키텍처, 데이터 흐름, 기술 스택 상세
- [API 명세서](./3-api-specification.md) (예정)

---

**문서 종료**
